(function(t){function a(a){for(var s,n,r=a[0],c=a[1],d=a[2],u=0,m=[];u<r.length;u++)n=r[u],Object.prototype.hasOwnProperty.call(o,n)&&o[n]&&m.push(o[n][0]),o[n]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(t[s]=c[s]);l&&l(a);while(m.length)m.shift()();return i.push.apply(i,d||[]),e()}function e(){for(var t,a=0;a<i.length;a++){for(var e=i[a],s=!0,r=1;r<e.length;r++){var c=e[r];0!==o[c]&&(s=!1)}s&&(i.splice(a--,1),t=n(n.s=e[0]))}return t}var s={},o={app:0},i=[];function n(a){if(s[a])return s[a].exports;var e=s[a]={i:a,l:!1,exports:{}};return t[a].call(e.exports,e,e.exports,n),e.l=!0,e.exports}n.m=t,n.c=s,n.d=function(t,a,e){n.o(t,a)||Object.defineProperty(t,a,{enumerable:!0,get:e})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,a){if(1&a&&(t=n(t)),8&a)return t;if(4&a&&"object"===typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(n.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&a&&"string"!=typeof t)for(var s in t)n.d(e,s,function(a){return t[a]}.bind(null,s));return e},n.n=function(t){var a=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(a,"a",a),a},n.o=function(t,a){return Object.prototype.hasOwnProperty.call(t,a)},n.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],c=r.push.bind(r);r.push=a,r=r.slice();for(var d=0;d<r.length;d++)a(r[d]);var l=c;i.push([0,"chunk-vendors"]),e()})({0:function(t,a,e){t.exports=e("56d7")},"158c":function(t,a,e){"use strict";var s=e("ce1b"),o=e.n(s);o.a},"1a12":function(t,a,e){},3712:function(t,a,e){},"3b8a":function(t,a,e){"use strict";var s=e("3712"),o=e.n(s);o.a},"3cdd":function(t,a,e){"use strict";var s=e("410e"),o=e.n(s);o.a},4039:function(t,a,e){"use strict";var s=e("d1ca"),o=e.n(s);o.a},"410e":function(t,a,e){},"56d7":function(t,a,e){"use strict";e.r(a);var s=e("2b0e"),o=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{attrs:{id:"app"}},[e("navbar"),t._v(" "),e("router-view")],1)},i=[],n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("nav",{staticClass:"navbar navbar-expand-lg navbar-light  outline mb-3"},[e("router-link",{staticClass:"navbar-brand text-light",attrs:{id:"navbar-font",to:{name:"home"}}},[t._v("Kanban")]),t._v(" "),t._m(0),t._v(" "),e("div",{staticClass:"collapse navbar-collapse",attrs:{id:"navbarText"}},[e("ul",{staticClass:"navbar-nav mr-auto "},[e("li",{staticClass:"nav-item",class:{active:"home"==t.$route.name}},[e("router-link",{staticClass:"nav-link text-light",attrs:{to:{name:"home"}}},[t._v("Home")])],1),t._v(" "),t.$auth.isAuthenticated?e("li",{staticClass:"nav-item",class:{active:"boards"==t.$route.name}},[e("router-link",{staticClass:"nav-link text-light",attrs:{to:{name:"boards"}}},[t._v("Dashboard")])],1):t._e()]),t._v(" "),e("span",{staticClass:"navbar-text"},[t.$auth.isAuthenticated?e("button",{staticClass:"btn btn-danger",on:{click:t.logout}},[t._v("logout")]):e("button",{staticClass:"btn btn-success",on:{click:t.login}},[t._v("\n        Login\n      ")])])])],1)},r=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("button",{staticClass:"navbar-toggler",attrs:{type:"button","data-toggle":"collapse","data-target":"#navbarText","aria-controls":"navbarText","aria-expanded":"false","aria-label":"Toggle navigation"}},[e("span",{staticClass:"navbar-toggler-icon"})])}],c=e("bc3a"),d=e.n(c);d.a.create({baseURL:"http://localhost:3000",withCredentials:!0});var l={name:"Navbar",methods:{async login(){await this.$auth.loginWithPopup(),this.$store.dispatch("setBearer",this.$auth.bearer),this.$store.dispatch("getProfile"),console.log("this.$auth.user: "),console.log(this.$auth.user)},async logout(){await this.$auth.logout({returnTo:window.location.origin})}}},u=l,m=(e("5dfc"),e("2877")),p=Object(m["a"])(u,n,r,!1,null,null,null),h=p.exports,v=e("335d"),b={name:"App",async beforeCreate(){try{await Object(v["c"])(),this.$store.dispatch("setBearer",this.$auth.bearer),this.$store.dispatch("getProfile")}catch(t){this.$router.push({name:"home"})}},components:{Navbar:h}},f=b,_=(e("5c0b"),Object(m["a"])(f,o,i,!1,null,null,null)),g=_.exports,k=e("8c4f"),y=function(){var t=this,a=t.$createElement;t._self._c;return t._m(0)},C=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"home"},[e("h1",[t._v("This is your home page.")])])}],w={name:"home",data(){return{}},computed:{},methods:{},components:{}},$=w,T=Object(m["a"])($,y,C,!1,null,"06790556",null),x=T.exports,B=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"boards container-fluid"},[t._v("\n  Board View: \n  "),e("div",{staticClass:"row justify-content-center"},[e("div",{staticClass:"col-6"},[e("form",{on:{submit:function(a){return a.preventDefault(),t.addBoard(a)}}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.newBoard.title,expression:"newBoard.title"}],staticClass:"form-control m-1",attrs:{type:"text",placeholder:"Title",required:""},domProps:{value:t.newBoard.title},on:{input:function(a){a.target.composing||t.$set(t.newBoard,"title",a.target.value)}}}),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.newBoard.description,expression:"newBoard.description"}],staticClass:"form-control m-1",attrs:{type:"text",placeholder:"Description",required:""},domProps:{value:t.newBoard.description},on:{input:function(a){a.target.composing||t.$set(t.newBoard,"description",a.target.value)}}}),t._v(" "),e("button",{staticClass:"btn btn-color mt-2",attrs:{type:"submit"}},[t._v("Create Board")])])])]),t._v(" "),e("div",{staticClass:"row justify-content-center"},t._l(t.boards,(function(a){return e("div",{key:a.id,attrs:{boardId:a._id}},[e("div",{staticClass:"card  shadow p-3 m-3"},[e("div",[e("button",{staticClass:"close text-danger button-styling ",attrs:{type:"button"},on:{click:function(e){t.deleteBoard(a._id)}}},[e("span",[t._v("×")])])]),t._v(" "),e("div",{staticClass:"card-body mt-n3 "},[e("router-link",{staticClass:"font-sans text-capitalize text-overflow text-dark",attrs:{id:"board-card",to:{name:"board",params:{boardId:a.id}}},on:{click:function(e){t.setActiveBoard(a._id)}}},[t._v(t._s(a.title))])],1)])])})))])},D=[],L={name:"boards",mounted(){this.$store.dispatch("getBoards")},data(){return{newBoard:{title:"",description:""}}},computed:{boards(){return this.$store.state.boards}},methods:{addBoard(){this.$store.dispatch("addBoard",this.newBoard),this.newBoard={title:"",description:""}},deleteBoard(t){this.$store.dispatch("deleteBoard",t)}}},I=L,j=(e("3b8a"),Object(m["a"])(I,B,D,!1,null,null,null)),O=j.exports,A=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"Board container-fluid "},[t.board.title?e("h1",{staticClass:"text-capitalize board-font"},[t._v(t._s(t.board.title))]):e("h1",[t._v("Loading...")]),t._v(" "),e("p",{staticClass:"text-muted"},[t._v(t._s(t.board.description))]),t._v(" "),e("AddList"),t._v(" "),e("div",{staticClass:"row my-2 justify-content-around"},t._l(t.lists,(function(t){return e("list",{key:t._id,attrs:{listData:t}})})))],1)},P=[],E=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"add-list"},[e("div",{staticClass:"row justify-content-center"},[e("div",{staticClass:"col-12 col-md-6"},[e("form",{staticClass:"form-inline justify-content-center",on:{submit:function(a){a.preventDefault(),t.addList()}}},[e("div",{staticClass:"form-group"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.newList.title,expression:"newList.title"}],staticClass:"mx-1 form-control form-control-sm",attrs:{type:"text",name:"title",id:"",placeholder:"List Title...","aria-describedby":"helpId",required:""},domProps:{value:t.newList.title},on:{input:function(a){a.target.composing||t.$set(t.newList,"title",a.target.value)}}}),t._v(" "),e("button",{staticClass:"mx-2 btn btn-sm btn-secondary ",attrs:{type:"submit"}},[t._v("Add List")])])])])])])},M=[],N={name:"add-list",data(){return{newList:{}}},computed:{activeBoardId(){return this.$store.state.activeBoard._id}},methods:{addList(){this.newList.boardId=this.activeBoardId,this.$store.dispatch("addList",this.newList),this.newList={}}},components:{}},S=N,z=Object(m["a"])(S,E,M,!1,null,"4bcf7af4",null),q=z.exports,U=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"list my-2  col-lg-4 col-md-6 col-sm-12 "},[e("div",{staticClass:"card shadow"},[e("div",[e("button",{staticClass:"close text-danger text-right pr-2 pt-1",attrs:{type:"button"},on:{click:function(a){t.deleteList()}}},[e("span",[t._v("×")])])]),t._v(" "),e("div",{staticClass:"card-body ct-border"},[e("h4",{staticClass:"card-title text-capitalize my-n4"},[t._v(t._s(t.listData.title))])]),t._v(" "),e("ul",{staticClass:"list-group list-group-flush"},t._l(t.Tasks,(function(t){return e("Task",{key:t._id,attrs:{taskData:t}})}))),t._v(" "),e("div",{staticClass:"card-body"},[e("form",{on:{submit:function(a){a.preventDefault(),t.addTask()}}},[e("div",{staticClass:"form-group"},[e("div",{staticClass:"input-group mb-3"},[t._m(0),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.newTask.title,expression:"newTask.title"}],staticClass:"form-control",attrs:{type:"text",required:"",placeholder:"Add Task","aria-label":"","aria-describedby":"basic-addon1"},domProps:{value:t.newTask.title},on:{input:function(a){a.target.composing||t.$set(t.newTask,"title",a.target.value)}}})])])])])])])},J=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"input-group-prepend"},[e("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"submit"}},[t._v("➤")])])}],R=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("li",{staticClass:"task text-left pl-0 list-group-item"},[e("div",{staticClass:"title",attrs:{"data-target":"#task-modal-"+t.taskData._id,"data-toggle":"modal"}},[t._v(t._s(t.taskData.title))]),t._v(" "),e("button",{staticClass:"close text-secondary",attrs:{type:"button"},on:{click:function(a){t.deleteTask(t.taskData)}}},[e("span",[t._v("✕")])])]),t._v(" "),e("TaskDetails",{attrs:{taskData:t.taskData}})],1)},V=[],H=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"TaskDetails"},[e("div",{staticClass:"modal fade",attrs:{id:"task-modal-"+t.taskData._id,tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalCenterTitle","aria-hidden":"true"}},[e("div",{staticClass:"modal-dialog modal-dialog-centered",attrs:{role:"document"}},[e("div",{staticClass:"modal-content"},[e("div",{staticClass:"modal-header"},[e("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLongTitle"}},[t._v(t._s(t.taskData.title))]),t._v(" "),t._m(0)]),t._v(" "),e("div",{staticClass:"modal-body"},[t._l(t.comments,(function(t){return e("Comment",{key:t._id,attrs:{commentData:t}})})),t._v(" "),e("form",{staticClass:"form-inline justify-content-center",on:{submit:function(a){a.preventDefault(),t.addComment()}}},[e("div",{staticClass:"form-group"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.comment.body,expression:"comment.body"}],staticClass:"mx-1 form-control form-control-sm",attrs:{type:"text",name:"comment",id:"",placeholder:"enter comment...","aria-describedby":"helpId",required:""},domProps:{value:t.comment.body},on:{input:function(a){a.target.composing||t.$set(t.comment,"body",a.target.value)}}}),t._v(" "),e("button",{staticClass:"mx-2 btn btn-sm btn-secondary mt-2",attrs:{type:"submit"}},[t._v("Add Comment")])])])],2),t._v(" "),e("div",{staticClass:"modal-footer"},[e("div",{staticClass:"dropdown"},[e("button",{staticClass:"btn btn-secondary dropdown-toggle",attrs:{type:"button",id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[t._v("Move Task")]),t._v(" "),e("div",{staticClass:"dropdown-menu",attrs:{"aria-labelledby":"dropdownMenuButton"}},t._l(t.lists,(function(a){return e("div",{key:a._id},[a._id!=t.taskData.listId?e("a",{staticClass:"text-center dropdown-item",attrs:{"data-dismiss":"modal"},on:{click:function(e){e.preventDefault(),t.changeTask(a)}}},[t._v(t._s(a.title))]):t._e()])})))]),t._v(" "),e("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("Close")])])])])])])},F=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[e("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])}],K=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"Comment"},[e("p",[t._v(t._s(t.commentData.body)+"\n    "),e("button",{staticClass:"close text-secondary",attrs:{type:"button"},on:{click:function(a){t.deleteComment()}}},[e("span",[t._v("✕")])])])])},W=[],Y={name:"Comment",props:["commentData"],data(){return{}},computed:{},methods:{deleteComment(){console.log(this.commentData),this.$store.dispatch("deleteComment",this.commentData)}},components:{}},G=Y,Q=(e("3cdd"),Object(m["a"])(G,K,W,!1,null,"97c86020",null)),X=Q.exports,Z={name:"TaskDetails",props:["taskData"],data(){return{comment:{}}},mounted(){this.$store.dispatch("getComments",this.taskData._id)},computed:{lists(){return this.$store.state.lists},activeTask(){return this.$store.state.activeTask},comments(){return this.$store.state.comments[this.taskData._id]}},methods:{addComment(){this.comment.taskId=this.taskData._id,this.$store.dispatch("addComment",this.comment),this.comment={}},changeTask(t){let a={oldListId:this.taskData.listId,newListId:t._id,taskId:this.taskData._id};console.log(a),this.$store.dispatch("changeTask",a)}},components:{Comment:X}},tt=Z,at=(e("962f"),Object(m["a"])(tt,H,F,!1,null,"4237f036",null)),et=at.exports,st={name:"task",props:["taskData"],data(){return{}},computed:{},methods:{deleteTask(){this.$store.dispatch("deleteTask",this.taskData)},setActiveTask(){this.$store.dispatch("setActiveTask",this.taskData)}},components:{TaskDetails:et}},ot=st,it=(e("f26b"),Object(m["a"])(ot,R,V,!1,null,"13162c0c",null)),nt=it.exports,rt={name:"list",props:["listData"],mounted(){this.$store.dispatch("getTasks",this.listData._id)},data(){return{newTask:{}}},computed:{Tasks(){return this.$store.state.tasks[this.listData._id]}},methods:{deleteList(){this.$store.dispatch("deleteList",this.listData)},addTask(){this.newTask.listId=this.listData._id,this.$store.dispatch("addTask",this.newTask),this.newTask={}}},components:{Task:nt}},ct=rt,dt=(e("4039"),Object(m["a"])(ct,U,J,!1,null,"dad500ec",null)),lt=dt.exports,ut={name:"Board",mounted(){this.$store.dispatch("setActiveBoard",this.$route.params.boardId),this.$store.dispatch("getLists",this.$route.params.boardId)},computed:{board(){return this.$store.state.activeBoard},lists(){return this.$store.state.lists}},props:["boardId"],components:{AddList:q,List:lt}},mt=ut,pt=(e("158c"),Object(m["a"])(mt,A,P,!1,null,null,null)),ht=pt.exports;s["a"].use(k["a"]);var vt=new k["a"]({routes:[{path:"/",name:"home",component:x},{path:"/boards",name:"boards",component:O,beforeEnter:v["b"]},{path:"/boards/:boardId",name:"board",component:ht,beforeEnter:v["b"]},{path:"*",redirect:"/"}]}),bt=e("2f62");s["a"].use(bt["a"]);let ft=window.location.host.includes("localhost")?"//localhost:3000/":"/",_t=d.a.create({baseURL:ft+"api/",timeout:3e3,withCredentials:!0});var gt=new bt["a"].Store({state:{user:{},boards:[],lists:[],activeBoard:{},tasks:{},activeTask:{},comments:{}},mutations:{setUser(t,a){t.user=a},setBoards(t,a){t.boards=a},setActiveBoard(t,a){t.activeBoard=a},setLists(t,a){t.lists=a},setTasks(t,a){s["a"].set(t.tasks,a.listIdObject,a.tasks)},setActiveTask(t,a){t.activeTask=a},setComments(t,a){s["a"].set(t.comments,a.taskId,a.comments)}},actions:{setBearer({},t){_t.defaults.headers.authorization=t},resetBearer(){_t.defaults.headers.authorization=""},async getProfile({commit:t}){try{let a=await _t.get("/profile");t("setUser",a.data)}catch(a){console.error(a)}},getBoards({commit:t,dispatch:a}){_t.get("boards").then(a=>{t("setBoards",a.data)})},addBoard({commit:t,dispatch:a},e){_t.post("boards",e).then(t=>{a("getBoards")})},async setActiveBoard({commit:t,dispatch:a},e){try{let a=await _t.get(`boards/${e}`);t("setActiveBoard",a.data),console.log("set board",a.data)}catch(s){console.error(s)}},async deleteBoard({commit:t,dispatch:a},e){try{await _t.delete("boards/"+e),a("getBoards")}catch(s){console.error(s)}},async addList({commit:t,dispatch:a},e){try{let t=await _t.post("lists",e);console.log("add list",t.data),a("getLists",t.data.boardId)}catch(s){console.error(s)}},async getLists({commit:t,dispatch:a},e){try{console.log("invoked");let a=await _t.get(`boards/${e}/lists`);console.log("here is the get list res",a.data),t("setLists",a.data)}catch(s){console.error(s)}},async deleteList({commit:t,dispatch:a},e){try{console.log(e.boardId),await _t.delete("lists/"+e._id),a("getLists",e.boardId)}catch(s){console.error(s)}},async deleteAllLists({commit:t,dispatch:a},e){try{await _t.delete("")}catch(s){console.error(s)}},async addTask({commit:t,dispatch:a},e){try{await _t.post("tasks",e);a("getTasks",e.listId)}catch(s){console.error(s)}},async getTasks({commit:t,dispatch:a},e){try{let a=await _t.get(`lists/${e}/tasks`),s={listIdObject:e,tasks:a.data};t("setTasks",s)}catch(s){console.error(s)}},async deleteTask({commit:t,dispatch:a},e){try{await _t.delete(`tasks/${e._id}`,e),a("getTasks",e.listId)}catch(s){console.error(s)}},async setActiveTask({commit:t,dispatch:a},e){try{let a=await _t.get("tasks/"+e._id);t("setActiveTask",a.data)}catch(s){console.error(s)}},async changeTask({commit:t,dispatch:a},e){try{await _t.put("tasks/"+e.taskId,e);a("getTasks",e.oldListId),a("getTasks",e.newListId)}catch(s){console.error(s)}},async addComment({commit:t,dispatch:a},e){try{console.log(e);await _t.post("comments",e);a("getComments",e.taskId)}catch(s){console.error(s)}},async getComments({commit:t,dispatch:a},e){try{let a=await _t.get(`tasks/${e}/comments`);t("setComments",{taskId:e,comments:a.data}),console.log(a.data)}catch(s){console.error(s)}},async deleteComment({commit:t,dispatch:a},e){try{await _t.delete("comments/"+e._id,e);a("getComments",e.taskId)}catch(s){console.error(s)}}}});const kt="dev-hwbz9ahi.auth0.com",yt="https://kanban2-api.com",Ct="S1NPTflS0VpmVqdy51l9rtFTJjzY99Hg";s["a"].use(v["a"],{domain:kt,clientId:Ct,audience:yt,onRedirectCallback:t=>{vt.push(t&&t.targetUrl?t.targetUrl:window.location.pathname)}}),new s["a"]({router:vt,store:gt,render:function(t){return t(g)}}).$mount("#app")},"5c0b":function(t,a,e){"use strict";var s=e("9c0c"),o=e.n(s);o.a},"5dfc":function(t,a,e){"use strict";var s=e("1a12"),o=e.n(s);o.a},"962f":function(t,a,e){"use strict";var s=e("bf57"),o=e.n(s);o.a},"9c0c":function(t,a,e){},"9ca2":function(t,a,e){},bf57:function(t,a,e){},ce1b:function(t,a,e){},d1ca:function(t,a,e){},f26b:function(t,a,e){"use strict";var s=e("9ca2"),o=e.n(s);o.a}});